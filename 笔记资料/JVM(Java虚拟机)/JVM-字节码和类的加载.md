[toc]
# 一、Class文件结构
## 概述
### 字节码文件的跨平台性
>>> ![1](JVM_pic-mid/JVM01.PNG)
### java的前端编译器
>>> ![1](JVM_pic-mid/JVM02.PNG)
>>> ![1](JVM_pic-mid/JVM03.PNG)
>>> ![1](JVM_pic-mid/JVM04.PNG)
>>> ![1](JVM_pic-mid/JVM05.PNG)
>>> ![1](JVM_pic-mid/JVM06.PNG)
>>> ![1](JVM_pic-mid/JVM07.PNG)
>>> ![1](JVM_pic-mid/JVM08.PNG)
### 透过字节码指令看代码细节
>>> ![1](JVM_pic-mid/JVM09.PNG)
## 虚拟机的基石：Class文件
>>> ![1](JVM_pic-mid/JVM10.PNG)
>>> ![1](JVM_pic-mid/JVM11.PNG)
>>> ![1](JVM_pic-mid/JVM12.PNG)
>>> ![1](JVM_pic-mid/JVM13.PNG)
## Class文件结构
>> ![1](JVM_pic-mid/JVM14.PNG)
>> ![1](JVM_pic-mid/JVM15.PNG)
>> ![1](JVM_pic-mid/JVM16.PNG)
>> ![1](JVM_pic-mid/JVM17.PNG)
>> ![1](JVM_pic-mid/JVM18.PNG)
>> ![1](JVM_pic-mid/JVM19.PNG)
### 魔数：Class文件的标志
>>> ![1](JVM_pic-mid/JVM20.PNG)
### 魔数：Class文件版本号
>>> ![1](JVM_pic-mid/JVM21.PNG)
>>> ![1](JVM_pic-mid/JVM22.PNG)
### 常量池：存放所有常量
>>> ![1](JVM_pic-mid/JVM23.PNG)
>>> ![1](JVM_pic-mid/JVM25.PNG)
>>> ![1](JVM_pic-mid/JVM24.PNG)
#### 常量池计数器
>>>> ![1](JVM_pic-mid/JVM26.PNG)
#### 常量池表
>>>> ![1](JVM_pic-mid/JVM27.PNG)
>>>> ![1](JVM_pic-mid/JVM28.PNG)
##### 字面量和符号引用
>>>>> ![1](JVM_pic-mid/JVM29.PNG)
>>>>> ![1](JVM_pic-mid/JVM30.PNG)
>>>>> ![1](JVM_pic-mid/JVM31.PNG)
>>>>> ![1](JVM_pic-mid/JVM32.PNG)
##### 常量类型和结构
>>>>> ![1](JVM_pic-mid/JVM33.PNG)
>>>>> ![1](JVM_pic-mid/JVM34.PNG)
>>>>> ![1](JVM_pic-mid/JVM35.PNG)
>>>>> ![1](JVM_pic-mid/JVM36.PNG)
>>>>> ![1](JVM_pic-mid/JVM37.PNG)
### 访问标识
>>> ![1](JVM_pic-mid/JVM38.PNG)
>>> ![1](JVM_pic-mid/JVM39.PNG)
>>> ![1](JVM_pic-mid/JVM40.PNG)
### 类索引、父类索引、接口索引集合
>>> ![1](JVM_pic-mid/JVM41.PNG)
>>> ![1](JVM_pic-mid/JVM42.PNG)
### 字段表集合
>>> ![1](JVM_pic-mid/JVM43.PNG)
#### 字段计数器
>>> ![1](JVM_pic-mid/JVM44.PNG)
#### 字段表
>>> ![1](JVM_pic-mid/JVM45.PNG)
>>> ![1](JVM_pic-mid/JVM46.PNG)
>>> ![1](JVM_pic-mid/JVM47.PNG)
>>> ![1](JVM_pic-mid/JVM48.PNG)
>>> ![1](JVM_pic-mid/JVM49.PNG)
>>> ![1](JVM_pic-mid/JVM50.PNG)
### 方法表集合
>>> ![1](JVM_pic-mid/JVM51.PNG)
#### 方法计数器
>>>> ![1](JVM_pic-mid/JVM52.PNG)
#### 方法表
>>>> ![1](JVM_pic-mid/JVM53.PNG)
>>>> ![1](JVM_pic-mid/JVM54.PNG)
### 属性表集合
>>> ![1](JVM_pic-mid/JVM55.PNG)
#### 属性计数器
#### 属性表
>>>> ![1](JVM_pic-mid/JVM56.PNG)
>>>> ![1](JVM_pic-mid/JVM57.PNG)
>>>> ![1](JVM_pic-mid/JVM58.PNG)
##### 方法里的属性表
>>>>> ![1](JVM_pic-mid/JVM59.PNG)
>>>>> ![1](JVM_pic-mid/JVM60.PNG)
### 小结
## 使用javap指令解析Class文件
### 解析字节码的作用
>>> ![1](JVM_pic-mid/JVM61.PNG)
### javac -g操作
>>> ![1](JVM_pic-mid/JVM62.PNG)
### javap的用法
>>> ![1](JVM_pic-mid/JVM63.PNG)
>>> ![1](JVM_pic-mid/JVM64.PNG)
>>> ![1](JVM_pic-mid/JVM65.PNG)
### 使用举例
### 总结
>>> ![1](JVM_pic-mid/JVM66.PNG)
---
# 二、字节码指令集与解析举例
## 概述
>> ![1](JVM_pic-mid/JVM67.PNG)
### 执行模型
>>> ![1](JVM_pic-mid/JVM68.PNG)
### 字节码与数据类型
>>> ![1](JVM_pic-mid/JVM69.PNG)
>>> ![1](JVM_pic-mid/JVM70.PNG)
### 指令分类
>>> ![1](JVM_pic-mid/JVM71.PNG)
#### 加载与存储指令
>>>> ![1](JVM_pic-mid/JVM72.PNG)
##### 复习：再谈操作数栈与局部变量表
>>>>> ![1](JVM_pic-mid/JVM73.PNG)
>>>>> ![1](JVM_pic-mid/JVM74.PNG)
>>>>> ![1](JVM_pic-mid/JVM75.PNG)
>>>>> ![1](JVM_pic-mid/JVM76.PNG)
>>>>> ![1](JVM_pic-mid/JVM77.PNG)
>>>>> ![1](JVM_pic-mid/JVM78.PNG)
##### 局部变量压栈指令
>>>>> ![1](JVM_pic-mid/JVM79.PNG)
##### 常量入栈指令
>>>>> ![1](JVM_pic-mid/JVM80.PNG)
>>>>> ![1](JVM_pic-mid/JVM81.PNG)
>>>>> ![1](JVM_pic-mid/JVM82.PNG)
##### 出栈装入局部变量表指令
>>>>> ![1](JVM_pic-mid/JVM83.PNG)
#### 算数指令
>>>> ![1](JVM_pic-mid/JVM84.PNG)
>>>> ![1](JVM_pic-mid/JVM85.PNG)
>>>> ![1](JVM_pic-mid/JVM86.PNG)
##### 所有算数指令
>>>>> ![1](JVM_pic-mid/JVM87.PNG)
##### 关于++运算符
##### 比较指令的说明
>>>>> ![1](JVM_pic-mid/JVM87.PNG)
>>>>> ![1](JVM_pic-mid/JVM88.PNG)
#### 类型转换指令
>>>> ![1](JVM_pic-mid/JVM89.PNG)
##### 宽化类型转换
>>>>> ![1](JVM_pic-mid/JVM90.PNG)
>>>>> ![1](JVM_pic-mid/JVM91.PNG)
>>>>> ![1](JVM_pic-mid/JVM92.PNG)
##### 窄化类型转换
>>>>> ![1](JVM_pic-mid/JVM93.PNG)
>>>>> ![1](JVM_pic-mid/JVM94.PNG)
>>>>> ![1](JVM_pic-mid/JVM95.PNG)
#### 对象的创建与访问指令
>>>> ![1](JVM_pic-mid/JVM96.PNG)
##### 创建指令
>>>>> ![1](JVM_pic-mid/JVM97.PNG)
##### 字段访问指令
>>>>> ![1](JVM_pic-mid/JVM98.PNG)
>>>>> ![1](JVM_pic-mid/JVM99.PNG)
##### 数组操作指令
>>>>> ![1](JVM_pic-mid/JVM100.PNG)
>>>>> ![1](JVM_pic-mid/JVM101.PNG)
##### 类型检查指令
>>>>> ![1](JVM_pic-mid/JVM102.PNG)
#### 方法调用与返回指令
##### 方法调用指令
>>>>> ![1](JVM_pic-mid/JVM103.PNG)
##### 返回指令
>>>>> ![1](JVM_pic-mid/JVM104.PNG)
>>>>> ![1](JVM_pic-mid/JVM105.PNG)
#### 操作数栈管理指令
>>>> ![1](JVM_pic-mid/JVM106.PNG)
>>>> ![1](JVM_pic-mid/JVM107.PNG)
#### 控制转移指令
>>>> ![1](JVM_pic-mid/JVM108.PNG)
##### 条件跳转指令
>>>>> ![1](JVM_pic-mid/JVM109.PNG)
>>>>> ![1](JVM_pic-mid/JVM110.PNG)
##### 比较条件跳转指令
>>>>> ![1](JVM_pic-mid/JVM111.PNG)
##### 多条件分支跳转指令
>>>>> ![1](JVM_pic-mid/JVM112.PNG)
>>>>> ![1](JVM_pic-mid/JVM113.PNG)
##### 无条件跳转指令
>>>>> ![1](JVM_pic-mid/JVM114.PNG)
#### 异常处理指令
##### 抛出异常指令
>>>>> ![1](JVM_pic-mid/JVM115.PNG)
##### 异常处理与异常表
>>>>> ![1](JVM_pic-mid/JVM116.PNG)
#### 同步控制指令
>>>> ![1](JVM_pic-mid/JVM117.PNG)
##### 方法级的同步
>>>>> ![1](JVM_pic-mid/JVM118.PNG)
>>>>> ![1](JVM_pic-mid/JVM119.PNG)
##### 方法内指定指令序列的同步
>>>>> ![1](JVM_pic-mid/JVM120.PNG)
>>>>> ![1](JVM_pic-mid/JVM121.PNG)
---
# 三、类的加载过程详解
## 概述
>> ![1](JVM_pic-mid/JVM129.PNG)
>> ![1](JVM_pic-mid/JVM122.PNG)
## 过程一：Loading(加载)阶段
### 加载完成的操作
>>> ![1](JVM_pic-mid/JVM123.PNG)
### 二进制流的获取方式
>>> ![1](JVM_pic-mid/JVM124.PNG)
### 类模型与Class实例的位置
>>> ![1](JVM_pic-mid/JVM125.PNG)
>>> ![1](JVM_pic-mid/JVM126.PNG)
>>> ![1](JVM_pic-mid/JVM127.PNG)
### 数组类的记载
>>> ![1](JVM_pic-mid/JVM128.PNG)
## 过程二：Linking(链接)阶段
### Verification(验证)
>>> ![1](JVM_pic-mid/JVM130.PNG)
>>> ![1](JVM_pic-mid/JVM131.PNG)
>>> ![1](JVM_pic-mid/JVM132.PNG)
>>> ![1](JVM_pic-mid/JVM133.PNG)
>>> ![1](JVM_pic-mid/JVM134.PNG)
>>> ![1](JVM_pic-mid/JVM135.PNG)
### Preparation(准备)
>>> ![1](JVM_pic-mid/JVM136.PNG)
>>> ![1](JVM_pic-mid/JVM137.PNG)
### Resolution(解析)
>>> ![1](JVM_pic-mid/JVM138.PNG)
>>> ![1](JVM_pic-mid/JVM139.PNG)
>>> ![1](JVM_pic-mid/JVM140.PNG)
>>> ![1](JVM_pic-mid/JVM141.PNG)
## 过程三：Initialization(初始化)阶段
## 过程四：类的Using(使用)
## 过程五：类的Unloading(卸载)
---
# 四、再谈类的加载器
---